Global Variables:
const HA = 15;
const images = [];


on entry:
createUserList()
initially: getUsers()
--> initially: loadUsers();
--> finally: remove load, append objects;

createImgList()
initially: getImages()
    --> initially: loadImages();
    --> finally: remove load, append objects


;



Functions, in depth:

<!-- [app.js] -->

getUsers(){
    load 

    fetch user list, add to variable
    users.sort
    let output = createUserList(array)

    resolve Load
    main.append(output)
}

getImages(array){
    load 

    let imagesArray = [];

    if( array !== "" ){
        imagesArray = array;

    } else {
        if (images in local storage){
            imagesArray = local storaged images
        } else {
            get list
            let array = get img objects
            add to local storage
            imagesArray = array;
        }
    }

    let output = printPaintings(imagesArray);

    resolve Load
    append output

}

printPaintings(imagesArray){
    let output = "";
    for each(img){
        let DOM = createPaintingDOM(imgObj);
        output += DOM;
    }
    return output (HTML elems)
}

printUserList(array){
    let output = "";

    array.forEach(obj){
        let DOM = createUserDOM(obj);
        output += DOM
    }

    return output  (HTML elems)
}

createUserDOM(obj){
    let output = a;

    if(obj.id == HA){
        setAttribute = url, "/homepage";
    } else{
        setAttribute = url, "/user?firstName";
        "[favs] (shared favs)"
    }

    return output
}

createPaintingDOM(imgObj){
    let output;

    if( /index ){
        let button;
        manageFav(button)
    } else {
        if ( img is in HA fav ){
            classList. add ("fav")
        }
    }

   return output;
}


Intervalled Timeout, 30secs{
    getUsers()
}



<!-- [index.js] -->
manageFavorites(htmlElem){
    if(htmlElem.class = fav){
        htmlElem onclick --> removeFav(htmlElem)
    } else {
        htmlElem onclick --> addFav(htmlElem)
    }

}

removeFav(htmlElem){
    htmlElem remove eventlistener

    Load

    contact server and remove

    getUsers()
    
    resolve Load
    htmlElem onclick --> addFav()
}

addFav(htmlElem){
    htmlElem remove eventlistener
    
    Load
    
    contact server 
    if (fav limit) --> .catch()
    add fav
    
    getUsers()

    resolve Load
    htmlElem onclick --> removeFav()
}


<!-- [user.js] -->

let user = userList.find( url.contains( firstName ) );

let userImages = [];

forEach(user.fav){
    find obj with same name;
    append in user images
}


getImages( userImages )












































Functionalities:
on page load:
fetch images. Load and display
fetch users. load and display

add and remove favorites
if(too many) => display error

select main user based on HA

show favorites other profiles

in user name [favorites x](shares favorites x)

update list when 
-> add/remove favorite
-> every 30sec

User feedback when
-> update users
-> fetch images
-> remove/add favorites

Sort users A - Z

Sort paintings A - Z

API:
mpp.erikpineiro.se/dbp/sameTaste/users.php
Documentation: https://mau.app.box.com/s/gyp6jdfijygo6dg98tk6q52dzwdvsjwm/file/860383414063

Met images, id
https://collectionapi.metmuseum.org/public/collection/v1/search?departmentId=11&q=snow

Met image get 1 object, 
https://collectionapi.metmuseum.org/public/collection/v1/objects/${id}
Documentation: https://metmuseum.github.io/


Functions

<!-- fetchImages() => get images from API and save to local storage -->
<!-- -> images[ {objectID, primaryImageSmall, title, artistDisplayName} ] -->

<!-- paintingDOM(object, yser_id) => return HTMLElement -->
-> if(id == HA) create button, manageFavorites(button)

manageFavorites() => creates button for adding and removing

paintingArrayDOM(arrayOfPaintings, id) => return arrayOfHTMLElements
let HA = getHAInfo()
--> obj exists in HA Faves: class = "shared-favorite"
--> obj doesnt exist in HA Faves: class = "other-favorite"

appendDOM(arrayOfHTMLElements) => append

createUserEntries( arrayOfObjects ) => return arrayOfHtmlElements
-> sort HA first
-> if(!HA) [] ()

fetchUsers() => returns list of users

fetchUserInfo() => returns updatedUserList

getHAInfo() => return HAObj






